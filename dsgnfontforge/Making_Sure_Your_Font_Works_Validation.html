<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='//fonts.googleapis.com/css?family=Julius+Sans+One|Source+Sans+Pro:400,700|Source+Code+Pro|Source+Serif+Pro:400,700' rel='stylesheet' type='text/css'>
    <style>
/* Use Heuristica's italics to stand in for the missing Source Serif Pro italics. */
@font-face {
  font-family: 'Source Serif Pro';
  font-style: italic;
  font-weight: 400;
  src: local('Heuristica Italic'), url(//brick.a.ssl.fastly.net/fonts/heuristica/400i.woff) format('woff');
}
@font-face{
  font-family: 'Source Serif Pro';
  font-style: italic;
  font-weight: 700;
  src: local('Heuristica Bold Italic'), url(//brick.a.ssl.fastly.net/fonts/heuristica/700i.woff) format('woff');
}
    </style>
    <link rel="stylesheet" type="text/css" href="assets/stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="assets/stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Дизайн с помощью FontForge: Проверка работоспособности шрифта, проверка</title>
  </head>
  <body>
<header>
  <div class="inner">
    <h1><a href="/">Дизайн с помощью FontForge</a></h1>
    <h2>Книга о том, как создавать новые шрифты с помощью FontForge.</h2>
    <a href="https://github.com/fontforge/designwithfontforge.com" class="button" target="_blank"><small>Посмотреть проект на </small>GitHub</a>
  </div>
</header>
    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>Проверка работоспособности шрифта, проверка</h1>
          <p>В идеальном мире шрифт можно было бы собрать и установить на любой современный компьютер без
каких-либо особых усилий, но реальность сложнее —, особенно в процессе проектирования.
Шрифты могут содержать технические ошибки, из-за которых они не работают и не отображаются
правильно.  Например, кривые, которые пересекают сами себя, не будут отображаться правильно,
поскольку у них нет “inside” и “outside”.  Различные форматы файлов шрифтов также ожидают,
что глифы будут соответствовать определенным правилам, которые упрощают размещение текста на экране,
а шрифты, нарушающие эти правила, могут вызвать неожиданные проблемы.  Примером проблемы такого
типа является то, что координаты всех точек кривой должны быть целыми числами.  Наконец, есть
стилистические ошибки, которые не являются технически неправильными, но которые все равно задача
исправить —, например линии, которые должны были быть идеально горизонтальными или вертикальными,
но случайно оказались слегка смещенными.</p>
<p>FontForge предлагаются инструменты, которые можно использовать для обнаружения (и, во многих
случаях, устранения) всех трех категорий проблем.  Проверка шрифта на устранение этих ошибок,
таким образом, не только гарантирует, что он будет установлен и понравится пользователям, но
также и то, что готовый проект будет выглядеть безупречно.</p>
<h2 id="поиск-проблемы">Поиск Проблемы</h2>
<p>Первый инструмент называется <em>Find Problems</em> и находится в меню Element.  Сначала
необходимо выбрать один или несколько глифов — в представлении шрифтов, в представлении
структуры или в представлении показателей — а затем открыть инструмент Find Problems.
Инструмент представляет набор потенциальных проблем на восьми отдельных вкладках.</p>
<p><img src="images/findproblemswindow.png" alt="" /></p>
<p>Можно выбрать, какие проблемы интересуют, установкой флажка рядом с каждой из них и в
некоторых случаях указать числовое значение для проверки шрифта.  Когда нажать кнопку «ОК»,
инструмент проверит все выбранные глифы и сообщит о любых обнаруженных проблемах в
диалоговом окне.</p>
<p>Проблемы, которые может обнаружить инструмент Find Problems, разделены на следующие восемь групп:</p>
<ul>
  <li>Проблемы связанные с точками</li>
  <li>Проблемы с путями и кривыми</li>
  <li>Проблемы со ссылками</li>
  <li>Проблемы с хинтированием</li>
  <li>Проблемы с ATT</li>
  <li>Проблемы, характерные для шрифтов с ключом CID</li>
  <li>Проблемы с ограничивающими рамками</li>
  <li>Разные другие проблемы</li>
</ul>
<p>Не каждая проверка необходима; некоторые применяются только к определенным алфавитам
или языкам (например, на вкладке “CID”), тогда как другие применяются только к определенным
дополнительным функциям шрифта (например, флажкам на вкладке “Refs”).  Следует убедиться,
что шрифт проходит тесты, проверяющие глифы на наличие необходимых функций, а также несколько
тестов, проверяющих необязательное, но обычно ожидаемое поведение.  Некоторые другие тесты
предоставляют обратную связь и рекомендации в процессе проектирования, и именно по этой
причине их стоит изучить.</p>
<h3 id="перво-наперво-протестировать-необходимые-функции">Перво-наперво: протестировать необходимые функции</h3>
<p>На вкладке “Points” выбрать тест <em>Non-Integral Coordinates</em>.  Тест гарантирует, что
все точки в каждом глифе (включая точки на кривой и контрольные точки) имеют целочисленные
координаты.  Не каждый формат вывода шрифтов требует такого поведения, но некоторые требуют.</p>
<p>На вкладке “Paths” выбрать параметры <em>Open paths</em> и <em>Check outermost paths clockwise</em>.
Обе эти функции являются обязательными для всех шрифтов; первый ищет любые кривые, которые не
являются замкнутыми фигурами, а второй следит за тем, чтобы внешние кривые каждого глифа
прорисовывались по часовой стрелке.  Очень хорошая идея также проверить <em>Intersecting paths</em>;
хотя современные форматы шрифтов могут поддерживать два пересекающихся контура, кривые, пересекающиеся
сами с собой, не допускаются.  Кроме того, если глиф имеет самопересекающиеся пути, FontForge
не сможет выполнить тест <em>Check outermost paths clockwise</em>.</p>
<p>На вкладке “Refs” выбрать все шесть тестов.  Все эти проверки относятся к ссылкам, в которых глиф
включает пути от другого глифа.  Например, буква с ударением включает ссылку на исходную (без ударения)
букву, а также ссылку на символ ударения.  Все тесты на вкладке “Refs” обязательны как минимум для одного распространенного формата вывода, и все они являются хорошими идеями.</p>
<p>Аналогичным образом выбрать все тесты на вкладке “ATT”.  Эти тесты ищут отсутствующие имена
глифов, правила замены, относящиеся к несуществующим глифам, а также другие проблемы, связанные
с именами глифов или функциями OpenType.  Проблемы, от которых они защищаются, редки, но все
они приводят к тому, что шрифт будет считаться недействительным одной или несколькими компьютерными
системами, поэтому их стоит включить.</p>
<h3 id="облегчить-жизнь-пользователям-тест-на-хорошее-поведение">Облегчить жизнь пользователям: тест на хорошее поведение</h3>
<p>Перечисленные выше тесты гарантируют, что шрифт устанавливается и отображается правильно
в соответствии с правилами, установленными различными форматами шрифтов, но есть несколько
других тестов, которые следует рассмотреть возможность добавления —, особенно в конце
процесса проектирования — просто потому, что они проверьте общие соглашения, которым
следует большинство современной типографики.</p>
<p>На вкладке “Points” выбрать <em>Control points beyond spline</em>.  Тест будет искать контрольные
точки, лежащие за конечными точками сегмента кривой, на котором они находятся.  Редко бывает причина,
по которой контрольная точка должна находиться за пределами кривой, поэтому такие случаи обычно
означают несчастные случаи.  Также рекомендуется выбрать <em>Points too far apart</em>, что будет
искать точки, находящиеся на расстоянии более 32 767 единиц от следующей ближайшей точки.  Это
расстояние больше, чем большинство компьютеров могут справиться внутри себя, и точка, находящаяся
так далеко, почти наверняка является непреднамеренной (для сравнения, один глиф имеет тенденцию
рисоваться на сетке из примерно 1000 единиц), поэтому удаление таких точек важно.</p>
<p>На вкладке “Paths” могут быть полезны как тесты <em>Check Missing Extrema</em>, так и
<em> More Points Than [val]</em>.  Первое ищет точки экстремумов — то есть самую верхнюю
точку, самую нижнюю точку, а также самую левую и самую правую точки глифа.  Современные форматы
шрифтов настоятельно предполагают, что каждый путь имеет точку на каждом из горизонтальных и
вертикальных экстремумов; облегчает жизнь, когда шрифт отображается на экране или на странице
проверки будет искать недостающие точки экстремума.  Второй тест — проверка правильности количества
точек внутри любого глифа.  Значение по умолчанию FontForge для этой проверки составляет 1500 пунктов,
это значение, предложенное в документации PostScript, и оно достаточно почти для всех шрифтов.</p>
<p>Как следует из названия, на вкладке “Random” перечислены различные тесты, которые не входят в
другие категории.  Из них ценны последние три: <em>Check Multiple Unicode</em>,
<em>Check Multiple Names</em> и <em>Check Unicode/Name mismatch</em>.  Они ищут ошибки метаданных
в сопоставлении имен глифов и слотов Юникода.</p>
<h3 id="угощайтесь-запуск-тестов-которые-могут-помочь-в-проектировании">Угощайтесь: запуск тестов, которые могут помочь в проектировании</h3>
<p>Многие другие тесты в инструменте Find Problems могут быть полезны для поиска и определения
несоответствий в коллекции глифов —, которые не являются неправильными или недействительными,
но которые пользователь, как дизайнер, захочет исправить.  Например, тест
<em>Y near standard heights</em> на вкладке “Points” сравниваются глифы с набором полезных
вертикальных измерений: базовой линией, высотой глифа “x”, самой нижней точкой нижнего элемента
буквы “p” и так далее.  В единообразном шрифте большинство букв будут соответствовать как минимум
паре этих стандартных размеров, поэтому есть вероятность, что глиф, который не имеет ни одного из
них, потребует большой работы.</p>
<p>Тест <em>Edges near horizontal/vertical/italic</em> на вкладке “Paths” ищет сегменты линий,
которые почти точно расположены по горизонтали, вертикали или под углом наклона шрифта.
Если сделать почти вертикальные линии идеально вертикальными, то при использовании шрифта
фигуры будут отображаться четко, и этот тест — надежный способ отследить не совсем правильные
сегменты, которые может быть трудно обнаружить невооруженным глазом.</p>
<p>Использовать другие тесты для определения точек на кривой, которые расположены слишком близко
друг к другу, чтобы иметь смысл, для сравнения боковых направлений глифов одинаковой формы и
для выполнения ряда других тестов, которые выявляют наличие глифов со странностями.  Часть процесса
доработки заключается в том, чтобы взять первоначальные проекты и сделать их более точными; Как
и другие аспекты дизайна шрифтов, это итеративная задача, поэтому использование встроенных
инструментов позволяет сократить количество повторений.</p>
<h2 id="проверить-шрифт">Проверить шрифт</h2>
<p>Другой инструмент проверки FontForge — это валидатор всего шрифта, который запускает серию тестов
и проверяет весь шрифт.  Поскольку валидатор используется для проверки всего шрифта, запустить его
можно только из окна просмотра шрифта; найти его в меню Element в подменю Validation.  Валидатор
предназначен для запуска только тех тестов, которые проверяют шрифт на техническую корректность
— по сути, это тесты, описанные в разделе “test for required features” выше.  Но выполняются
тесты для всего шрифта, и делает это гораздо быстрее, чем можно выполнить этот процесс самостоятельно,
используя инструмент Find Problems.</p>
<p><img src="images/validator-integral-question.png" alt="" /></p>
<p>При первом запуске валидатора во время определенного сеанса редактирования появится диалоговое
окно с вопросом, следует ли помечать нецелочисленные координаты точки как ошибку.  Безопасный ответ
— выбрать “Report as an error,”, поскольку использование целочисленных координат является хорошей
практикой проектирования.  Когда валидатор завершит сканирование шрифта (что произойдет всего через
несколько секунд), откроется новое диалоговое окно с именем Validation из [font name].  В этом окне
будут перечислены все проблемы, обнаруженные валидатором, в виде списка, отсортированного по глифам.</p>
<p><img src="images/valiator-output.png" alt="" /></p>
<p>Но это окно представляет собой не просто список ошибок: дважды щелкнуть каждый элемент в списке,
и FontForge перейдет к соответствующему значку и выделит точную проблему с текстовым объяснением
в отдельном окне.  Затем можно исправить проблему в редакторе глифов, и соответствующий элемент
ошибки немедленно исчезнет из списка ошибок валидатора.  Во многих случаях FontForge может
автоматически исправить ошибку, а в окне объяснения будет кнопка “Fix” внизу.  Можно нажать на нее
и выполнить исправление без дополнительных усилий.</p>
<p><img src="images/validator-fix-problem.png" alt="" /></p>
<p>Некоторые проблемы не подлежат автоматическому исправлению, но, увидев проблему на экране,
можно исправить ее немедленно.  Например, у самопересекающейся кривой есть определенное место,
где путь пересекает сам себя — возможно, оно было слишком маленьким, чтобы заметить его
с первого взгляда, но увеличение масштаба позволит изменить форму пути и устранить проблему.</p>
<p>Для других проблем может не быть одной конкретной точки, в которой находится ошибка.
Например, если кривая прослеживается в неправильном направлении (то есть против часовой
стрелки, хотя должно быть по часовой стрелке), это повлияет на всю кривую.  В тех случаях,
когда FontForge не может автоматически решить проблему и на глифе нет конкретной точки,
которую валидатор мог бы выделить, вам, возможно, придется поискать, чтобы исправить
проблему вручную.</p>
<p>Наконец, есть некоторые тесты, выполняемые валидатором, которые могут не быть проблемой
для конечного выходного формата, который имеется в виду —, например, тест нецелых
координат, упомянутый ранее.  В таких случаях установить флажок “ignore this problem in the future”
в окне объяснения ошибки и отключить это конкретное сообщение об ошибке при будущих
запусках проверки.</p>
<h2 id="устранять-проблемы-при-редактировании">Устранять проблемы при редактировании</h2>
<p>Большинство ошибок, которые ищет инструмент Find Problems и вся программа проверки шрифтов,
можно исправить в процессе редактирования, поэтому не ощущайте необходимости откладывать устранение
неполадок на время работы.  Например, подменю View &gt; Show содержит параметры, выделяющие
проблемные области во время редактирования; меню Element содержит команды, такие как
<em>Add Extrema</em>, которые добавляют точки экстремума, ожидаемые в большинстве форматов выходных
файлов, и флажки, указывающие, ориентирован ли выбранный путь по часовой стрелке или против часовой
стрелки.  Если перевернуть фигуру (по горизонтали или вертикали) в редакторе глифов, заметно,
что ее направление также автоматически изменится на противоположное.  Если нажать команду
<em>Correct Direction</em> в меню Element, FontForge немедленно зафиксирует ориентацию по часовой
стрелке/против часовой стрелки.  Выработав привычку вносить подобные небольшие исправления в
процессе работы, сэкономить немного времени на этапе проверки позже.</p>
<h1 id="работает-ли-дизайн">Работает ли дизайн?</h1>
<p>Гарнитуры могут ‘работать’ лучше или хуже по двум причинам: читаемость и разборчивость.</p>
<p>Разборчивость означает, что рисунки глифов достаточно различимы, чтобы их можно было сразу
правильно распознать.  Вот некоторые пары, которые часто слишком похожи:</p>
<ul>
  <li>буква “L” и цифра “1”</li>
  <li>буква “O” и цифра “0”</li>
  <li>буква “Z” и цифра “2”</li>
  <li>числа “1” и “7”</li>
</ul>
<p>Читабельность означает, что все глифы хорошо работают вместе, обеспечивая привычное и удобное
чтение.  Создание тестовых документов — лучший способ обеспечить это.  Если есть полный алфавит,
набирать реальный текст — например, используя <a href="http://somadesign.ca/projects/fontfriend/">FontFriend</a>,
чтобы перетащить шрифт в длинную новостную статью, которую задача прочитать, а затем распечатайте его.</p>
<p>Однако, если шрифт содержит только часть алфавита, использовать тестовый генератор текста,
например <a href="https://github.com/garethsprice/libretext/">LibreText</a> и любой текстовый процессор,
настольное приложение для публикаций или общая программа для иллюстраций (например,
<a href="http://www.inkscape.org">Inkscape</a>) создавать тестовые документы.</p>
<h1 id="тестирование-шрифта-в-разных-средах">Тестирование шрифта в разных средах</h1>
<p>При тестировании шрифтов в Microsoft Windows <a href="https://www.microsoft.com/typography/TrueTypeProperty21.mspx">Расширение свойств шрифта</a> может быть полезно для быстрого просмотра внутренних метаданных шрифта,
таких как номера версий.</p>
<p>Если устанавливаются разрабатываемые шрифты, из-за которых Windows работает нестабильно,
<a href="http://typedrawers.com/discussion/1322/otf-fonts-from-glyphs-not-working-with-windows-word">John Hudson</a> описал, как удалить поврежденные шрифты в TypeDrawers:</p>
<blockquote>
  <p>Перезагрузить Windows в режиме консоли восстановления.  В консоли перейти в папку Windows/Fonts
и удалить все записи для шрифта Rhodium.  Затем перейти в Windows/System32 и удалить файл
‘FNTCACHE.DAT’ <strong>(not the .dll)</strong>.  Затем перезапустить Windows.  Файл кэша шрифтов .dat будет
перестроен, а затем можно переустановить чистую копию шрифта Rhodium и посмотреть, будет ли он
себя вести.  (Не волноваться, если по-прежнему получать сообщение о том, что шрифт уже установлен:
на этом этапе Windows лжет.)</p>
</blockquote>
          <nav id="post-nav" class="clearfix">
          </nav>
        </section>
        <aside id="sidebar">
<!--          <a href="" class="button">
            <small>Скачать книгу как</small>
            PDF
          </a>-->
<ol class="rectangle-list">
                <li>
                  <a  href="Introduction.html">
                    Введение
                  </a>
                </li>
                <li>
                  <a  href="What_Is_a_Font.html">
                    Что такое шрифт?
                  </a>
                </li>
                <li>
                  <a  href="Trusting_Your_Eyes.html">
                    Доверять глазам
                  </a>
                </li>
                <li>
                  <a  href="Planning_Your_Project.html">
                    Планирование проекта
                  </a>
                </li>
                <li>
                  <a  href="The_EM_Square.html">
                    EM Площадь
                  </a>
                </li>
                <li>
                  <a  href="Installing_Fontforge.html">
                    Установка FontForge
                  </a>
                </li>
                <li>
                  <a  href="Configuring_FontForge.html">
                    Настройка FontForge
                  </a>
                </li>
                <li>
                  <a  href="General_UI_Introduction.html">
                    Общее введение в пользовательский интерфейс
                  </a>
                </li>
                <li>
                  <a  href="Using_the_Fontforge_Drawing_Tools.html">
                    Использование инструментов рисования FontForge
                  </a>
                </li>
                <li>
                  <a  href="Drawing_With_Spiro.html">
                    Рисование с Spiro
                  </a>
                </li>
                <li>
                  <a  href="Creating_o_and_n.html">
                    Создание ‘o’ и ‘n’
                  </a>
                </li>
                <li>
                  <a  href="Font_Info_&_Metadata.html">
                    Информация о шрифте и метаданные
                  </a>
                </li>
                <li>
                  <a  href="Word_Space.html">
                    Расстояние между словами
                  </a>
                </li>
                <li>
                  <a  href="Creating_Your_Types_Dna.html">
                    Создание типажа DNA
                  </a>
                </li>
                <li>
                  <a  href="Capital_Letters.html">
                    Заглавные буквы
                  </a>
                </li>
                <li>
                  <a  href="Line_Spacing.html">
                    Межстрочный интервал
                  </a>
                </li>
                <li>
                  <a  href="Punctuation_and_Symbols.html">
                    Пунктуация и символы
                  </a>
                </li>
                <li>
                  <a  href="Completing_the_Lower_Case.html">
                    Заполнение нижнего регистра
                  </a>
                </li>
                <li>
                  <a  href="Diacritics_and_Accents.html">
                    Диакритические знаки и акценты
                  </a>
                </li>
                <li>
                  <a  href="Numerals.html">
                    Цифры
                  </a>
                </li>
                <li>
                  <a  href="Bold_and_Other_Weights.html">
                    Bold
                  </a>
                </li>
                <li>
                  <a  href="Italic.html">
                    Italic
                  </a>
                </li>
                <li>
                  <a  href="Spacing_Metrics_and_Kerning.html">
                    Интервал, метрика и кернинг
                  </a>
                </li>
                <li>
                  <a  href="Making_Sure_Your_Font_Works_Validation.html">
                    Проверка работоспособности шрифта
                  </a>
                </li>
                <li>
                  <a  href="The_Final_Output_Generating_Font_Files.html">
                    Окончательный результат: создание файлов шрифтов
                  </a>
                </li>
                <li>
                  <a  href="When_Things_Go_Wrong_With_Fontforge_Itself.html">
                    Когда что-то идет не так с самим FontForge
                  </a>
                </li>
                <li>
                  <a  href="Designing_Devanagari_Typefaces.html">
                    Разработка шрифтов Devanagari
                  </a>
                </li>
                <li>
                  <a  href="Importing_Glyphs_from_Other_Programs.html">
                    Импорт глифов из других программ
                  </a>
                </li>
                <li>
                  <a  href="Adding_Glyphs_to_an_Arabic_Font.html">
                    Добавление глифов в арабский шрифт
                  </a>
                </li>
                <li>
                  <a  href="Further_Reading.html">
                    Дальнейшее чтение
                  </a>
                </li>
                <li>
                  <a  href="Font_Editor_History.html">
                    Инструменты Истории Font Editor Tool History
                  </a>
                </li>
                <li>
                  <a  href="Glossary.html">
                    Glossary
                  </a>
                </li>
          </ol>
          <p>Эта книга свободная, <a href="//github.com/fontforge/designwithfontforge.com/" target="_blank">размещена на GitHub</a>.  Патчи, предложения и исправления приветствуются.</p>
          <p><a class"" href="https://github.com/fontforge/designwithfontforge.com/commits/gh-pages">Review recent changes</a></p>
          <p><a class="editthispage" href="https://github.com/fontforge/designwithfontforge.com/blob/gh-pages/ru-RU/Adding_Glyphs_to_an_Arabic_Font.md" target="_blank">Редактировать эту страницу</a> (<a href="https://github.com/fontforge/designwithfontforge.com">учиться</a>)</p></p>
        </aside>
      </div>
    </div>
<!-- FOOTER -->
<footer>
<div class="inner">
  <p>Последнее обновление 18 July 2024.  Приглашение на <a href="https://github.com/fontforge/designwithfontforge.com">способствование</a> и улучшение <a class="editthispage" href="https://github.com/fontforge/designwithfontforge.com/blob/gh-pages/ru-RU/Adding_Glyphs_to_an_Arabic_Font.md" target="_blank">эта страница</a>.</p>
  <p>Авторские права &copy; 2012 - 2017, Дизайн с помощью FontForge <a href="https://github.com/fontforge/designwithfontforge.com/blob/gh-pages/AUTHORS.txt">Авторы</a>.</p>
  <p>‘<a href="//designwithfontforge.com"><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Дизайн с помощью FontForge</span></a>’ <a xmlns:cc="http://creativecommons.org/ns#" href="http://designwithfontforge.com" property="cc:attributionName" rel="cc:attributionURL">Сообщество FontForge</a> имеет лицензию под <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">CC BY-SA 3.0</a>.
</div>
</footer>
</body>
</html>
